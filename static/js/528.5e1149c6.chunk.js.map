{"version":3,"file":"static/js/528.5e1149c6.chunk.js","mappings":"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","sources":["components/FilmInfo/filmInfo.module.css","components/FilmInfo/FilmInfo.jsx","webpack://react-homework-template/./src/pages/MovieDetailsPage/movieDetailsPage.module.css?c394","pages/MovieDetailsPage/MovieDetailsPage.jsx","shared/api/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { useState, useEffect } from 'react';\n\nimport stl from './filmInfo.module.css';\nimport { getMovieDetails } from '../../shared/api/movies';\n\nfunction FilmInfo({ id }) {\n  const [movie, setMovie] = useState({\n    film: {},\n    isLoading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchFilmDetails = async () => {\n      setMovie(prevMovie => ({\n        ...prevMovie,\n        isLoading: true,\n        error: null,\n      }));\n\n      try {\n        const result = await getMovieDetails(id);\n        const genreName = result.genres.map(genre => genre.name);\n\n        setMovie(prevMovie => ({\n          ...prevMovie,\n          isLoading: false,\n          film: { ...result, genreName },\n        }));\n      } catch (error) {\n        setMovie(prevMovie => ({\n          ...prevMovie,\n          isLoading: false,\n          error,\n        }));\n      }\n    };\n    fetchFilmDetails();\n  }, [id]);\n  const { isLoading, error, film } = movie;\n  const {\n    vote_average,\n    original_title,\n    poster_path,\n    original_name,\n    genreName,\n    overview,\n  } = film;\n\n  const title = original_title || original_name;\n  const image = poster_path\n    ? `https://image.tmdb.org/t/p/w500${poster_path}`\n    : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFpNntacA2XFNowRfDYxO1cZOVaeSYe9ozWzpVdxdQ5T41dKiJScEvBOibqiU3KtZvNTk&usqp=CAU';\n\n  const isInSet = Boolean(Object.values(film).length > 0);\n\n  return (\n    <div>\n      {isInSet && (\n        <div className={stl.info}>\n          <h2 className={stl.title}>{title}</h2>\n          <img src={image} alt={title} className={stl.img} />\n          <p className={stl.text}>User score: {vote_average}</p>\n          <h3 className={stl.chpt}>Overview</h3>\n          <p className={stl.text}>{overview}</p>\n          <h3 className={stl.chpt}>Genres</h3>\n          <p className={stl.text}>{genreName}</p>\n          {isLoading && <p>...Loading</p>}\n          {error && <p>{error.message}</p>}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default FilmInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"block\":\"movieDetailsPage_block__t7iSM\",\"btn\":\"movieDetailsPage_btn__vW4G6\",\"link\":\"movieDetailsPage_link__ZHtlQ\"};","import {\n  Link,\n  Outlet,\n  useParams,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\n\nimport FilmInfo from '../../components/FilmInfo';\nimport stl from './movieDetailsPage.module.css';\n\nfunction MovieDetailsPage() {\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const from = location?.state?.from || '/';\n  const goBack = () => navigate(from);\n  return (\n    <div className={stl.block}>\n      <button type=\"button\" className={stl.button} onClick={goBack}>\n        Go Back\n      </button>\n      <FilmInfo id={movieId} />\n      <Link\n        className={stl.link}\n        state={{ from }}\n        to={`/movies/${movieId}/cast`}\n      >\n        Cast\n      </Link>\n      <Link\n        className={stl.link}\n        state={{ from }}\n        to={`/movies/${movieId}/reviews`}\n      >\n        Reviews\n      </Link>\n      <Outlet />\n    </div>\n  );\n}\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n    params: {\n        api_key: '03d4c920be425f763881cb7707c96958',\n    }\n});\n\nexport const getPopularMovies = async () => {\n    const { data } = await instance.get('/trending/movie/week');\n    return data;\n};\n\nexport const searchMovies = async (query,page=1 ) => {\n    const { data } = await instance.get('/search/movie', {\n        params: {\n            language: 'en-US',\n            include_adult: false,\n            page,\n            query,\n        },\n    });\n    return data;\n};\n\n//https://api.themoviedb.org/3/movie/725201?api_key=03d4c920be425f763881cb7707c96958&language=en-US\n//https://api.themoviedb.org/3/movie/725201?api_key=03d4c920be425f763881cb7707c96958&language=en-US\nexport const getMovieDetails = async (id) => {\n    const { data } = await instance.get(`/movie/${id}`);\n    return data;\n}\n\nexport const getMovieCredits = async id => {\n   const { data } = await instance.get(`/movie/${id}/credits`);\n    return data;\n}\n\nexport const getMovieReviews = async id => {\n   const { data } = await instance.get(`/movie/${id}/reviews`);\n    return data;\n}"],"names":["id","useState","film","isLoading","error","movie","setMovie","useEffect","fetchFilmDetails","prevMovie","getMovieDetails","result","genreName","genres","map","genre","name","vote_average","original_title","poster_path","original_name","overview","title","image","isInSet","Boolean","Object","values","length","className","stl","src","alt","message","movieId","useParams","navigate","useNavigate","location","useLocation","from","state","type","onClick","to","instance","axios","baseURL","params","api_key","getPopularMovies","get","data","searchMovies","query","page","language","include_adult","getMovieCredits","getMovieReviews"],"sourceRoot":""}